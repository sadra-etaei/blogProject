{"ast":null,"code":"import _slicedToArray from\"F:/projects/Projects/project/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useLocation}from\"react-router-dom\";import{useState,useEffect}from\"react\";import Post from\"./post\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function UserProfile(){var location=useLocation();var _useState=useState({}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),posts=_useState4[0],setPosts=_useState4[1];function getUser(){axios({method:\"GET\",url:'/api/users/'.concat(location.state.pk)}).then(function(response){return setUser(response.data);});}function getPosts(){axios({method:\"get\",url:\"/api/posts/\"}).then(function(response){return setPosts(response.data);});}var x=posts.filter(function(post){return post.author==user.pk;});var elements=x.map(function(post){return/*#__PURE__*/_jsx(Post,{pb:post.publicationDate,pk:post.pk,title:post.title,authorpk:post.author,author:user.username,text:post.text});});useEffect(getUser,[location.state.pk]);useEffect(getPosts,[location.state.pk]);return/*#__PURE__*/_jsxs(\"div\",{className:\"profile\",children:[/*#__PURE__*/_jsx(\"h1\",{children:user.username}),/*#__PURE__*/_jsx(\"h2\",{children:user.email}),/*#__PURE__*/_jsx(\"div\",{className:\"content\",children:elements})]});}","map":{"version":3,"names":["useLocation","useState","useEffect","Post","axios","UserProfile","location","user","setUser","posts","setPosts","getUser","method","url","concat","state","pk","then","response","data","getPosts","x","filter","post","author","elements","map","publicationDate","title","username","text","email"],"sources":["F:/projects/Projects/project/frontend/src/pages/userProfile.js"],"sourcesContent":["import { useLocation } from \"react-router-dom\"\r\nimport { useState, useEffect } from \"react\"\r\nimport Post from \"./post\"\r\nimport axios from \"axios\"\r\nexport default function UserProfile() {\r\n    const location = useLocation()\r\n    const [user, setUser] = useState({})\r\n    const [posts, setPosts] = useState([])\r\n    function getUser() {\r\n        axios({\r\n            method: \"GET\",\r\n            url: '/api/users/'.concat(location.state.pk)\r\n        }).then(response => setUser(response.data))\r\n    }\r\n\r\n    function getPosts() {\r\n        axios(\r\n            {\r\n                method: \"get\",\r\n                url: \"/api/posts/\"\r\n            }\r\n        ).then(response => setPosts(response.data))\r\n    }\r\n    const x = posts.filter(post => post.author == user.pk)\r\n    const elements = x.map(post => <Post pb={post.publicationDate} pk={post.pk} title={post.title} authorpk={post.author} author={user.username} text={post.text} />)\r\n\r\n    useEffect(getUser, [location.state.pk])\r\n    useEffect(getPosts, [location.state.pk])\r\n\r\n    return (\r\n        <div className=\"profile\">\r\n            <h1>{user.username}</h1>\r\n            <h2>{user.email}</h2>\r\n            <div className=\"content\">\r\n                {elements}\r\n            </div>\r\n        </div>\r\n    )\r\n}"],"mappings":"2HAAA,OAASA,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,MAAOC,KAAI,KAAM,QAAQ,CACzB,MAAOC,MAAK,KAAM,OAAO,yFACzB,cAAe,SAASC,YAAW,EAAG,CAClC,GAAMC,SAAQ,CAAGN,WAAW,EAAE,CAC9B,cAAwBC,QAAQ,CAAC,CAAC,CAAC,CAAC,wCAA7BM,IAAI,eAAEC,OAAO,eACpB,eAA0BP,QAAQ,CAAC,EAAE,CAAC,yCAA/BQ,KAAK,eAAEC,QAAQ,eACtB,QAASC,QAAO,EAAG,CACfP,KAAK,CAAC,CACFQ,MAAM,CAAE,KAAK,CACbC,GAAG,CAAE,aAAa,CAACC,MAAM,CAACR,QAAQ,CAACS,KAAK,CAACC,EAAE,CAC/C,CAAC,CAAC,CAACC,IAAI,CAAC,SAAAC,QAAQ,QAAIV,QAAO,CAACU,QAAQ,CAACC,IAAI,CAAC,GAAC,CAC/C,CAEA,QAASC,SAAQ,EAAG,CAChBhB,KAAK,CACD,CACIQ,MAAM,CAAE,KAAK,CACbC,GAAG,CAAE,aACT,CAAC,CACJ,CAACI,IAAI,CAAC,SAAAC,QAAQ,QAAIR,SAAQ,CAACQ,QAAQ,CAACC,IAAI,CAAC,GAAC,CAC/C,CACA,GAAME,EAAC,CAAGZ,KAAK,CAACa,MAAM,CAAC,SAAAC,IAAI,QAAIA,KAAI,CAACC,MAAM,EAAIjB,IAAI,CAACS,EAAE,GAAC,CACtD,GAAMS,SAAQ,CAAGJ,CAAC,CAACK,GAAG,CAAC,SAAAH,IAAI,qBAAI,KAAC,IAAI,EAAC,EAAE,CAAEA,IAAI,CAACI,eAAgB,CAAC,EAAE,CAAEJ,IAAI,CAACP,EAAG,CAAC,KAAK,CAAEO,IAAI,CAACK,KAAM,CAAC,QAAQ,CAAEL,IAAI,CAACC,MAAO,CAAC,MAAM,CAAEjB,IAAI,CAACsB,QAAS,CAAC,IAAI,CAAEN,IAAI,CAACO,IAAK,EAAG,GAAC,CAEjK5B,SAAS,CAACS,OAAO,CAAE,CAACL,QAAQ,CAACS,KAAK,CAACC,EAAE,CAAC,CAAC,CACvCd,SAAS,CAACkB,QAAQ,CAAE,CAACd,QAAQ,CAACS,KAAK,CAACC,EAAE,CAAC,CAAC,CAExC,mBACI,aAAK,SAAS,CAAC,SAAS,wBACpB,oBAAKT,IAAI,CAACsB,QAAQ,EAAM,cACxB,oBAAKtB,IAAI,CAACwB,KAAK,EAAM,cACrB,YAAK,SAAS,CAAC,SAAS,UACnBN,QAAQ,EACP,GACJ,CAEd"},"metadata":{},"sourceType":"module","externalDependencies":[]}