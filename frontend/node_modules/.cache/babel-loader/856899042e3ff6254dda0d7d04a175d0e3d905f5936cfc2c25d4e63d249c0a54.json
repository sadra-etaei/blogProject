{"ast":null,"code":"import _slicedToArray from\"F:/projects/Projects/project/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import Post from\"./post\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Drafts(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),posts=_useState2[0],setPosts=_useState2[1];var user=localStorage.getItem(\"username\");var userid=localStorage.getItem(\"id\");function getPosts(){axios({method:\"GET\",url:\"/api/drafts/\".concat(userid)}).then(function(response){var newposts=response.data;setPosts(newposts);console.log(newposts);});}useEffect(getPosts,[]);var elements=posts.map(function(post){return/*#__PURE__*/_jsx(Post,{likes:post.likes,profile:post.profile,pb:post.publicationShortDate,pk:post.pk,title:post.title,authorpk:post.author,author:user,text:post.text});});var postis=\"\";var status=true;if(posts.length>0&&user){postis=true;}else if(posts.length==0&&user){postis=false;status=false;}return/*#__PURE__*/_jsxs(\"div\",{className:\"content\",children:[user?\" \":/*#__PURE__*/_jsx(\"p\",{children:\"you have to login first\"}),status?\"\":\"you have no drafts\",postis?elements:\"\"]});}","map":{"version":3,"names":["useEffect","useState","Post","axios","Drafts","posts","setPosts","user","localStorage","getItem","userid","getPosts","method","url","then","response","newposts","data","console","log","elements","map","post","likes","profile","publicationShortDate","pk","title","author","text","postis","status","length"],"sources":["F:/projects/Projects/project/frontend/src/pages/drafts.js"],"sourcesContent":["import { useEffect, useState } from \"react\"\r\nimport Post from \"./post\"\r\nimport axios from \"axios\"\r\nexport default function Drafts() {\r\n    const [posts, setPosts] = useState([])\r\n\r\n    const user = localStorage.getItem(\"username\")\r\n    const userid = localStorage.getItem(\"id\")\r\n    function getPosts() {\r\n        axios({\r\n            method: \"GET\",\r\n            url: `/api/drafts/${userid}`\r\n        }).then((response) => {\r\n            const newposts = response.data\r\n            setPosts(newposts)\r\n            console.log(newposts)\r\n        })\r\n    }\r\n    useEffect(getPosts, [])\r\n\r\n    const elements = posts.map(post => <Post likes={post.likes} profile={post.profile} pb={post.publicationShortDate} pk={post.pk} title={post.title} authorpk={post.author} author={user} text={post.text} />)\r\n    var postis = \"\"\r\n    var status = true\r\n    if (posts.length > 0 && user ){\r\n        postis = true\r\n    }\r\n    else if(posts.length == 0 && user){\r\n        postis = false\r\n        status = false\r\n    }\r\n\r\n    return (\r\n        <div className=\"content\">\r\n            {user ? \" \" : <p>you have to login first</p>}\r\n            {status ? \"\" : \"you have no drafts\"}\r\n            {postis ? elements  : \"\"}\r\n        </div>\r\n    )\r\n}"],"mappings":"2HAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,MAAOC,KAAI,KAAM,QAAQ,CACzB,MAAOC,MAAK,KAAM,OAAO,yFACzB,cAAe,SAASC,OAAM,EAAG,CAC7B,cAA0BH,QAAQ,CAAC,EAAE,CAAC,wCAA/BI,KAAK,eAAEC,QAAQ,eAEtB,GAAMC,KAAI,CAAGC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAC7C,GAAMC,OAAM,CAAGF,YAAY,CAACC,OAAO,CAAC,IAAI,CAAC,CACzC,QAASE,SAAQ,EAAG,CAChBR,KAAK,CAAC,CACFS,MAAM,CAAE,KAAK,CACbC,GAAG,uBAAiBH,MAAM,CAC9B,CAAC,CAAC,CAACI,IAAI,CAAC,SAACC,QAAQ,CAAK,CAClB,GAAMC,SAAQ,CAAGD,QAAQ,CAACE,IAAI,CAC9BX,QAAQ,CAACU,QAAQ,CAAC,CAClBE,OAAO,CAACC,GAAG,CAACH,QAAQ,CAAC,CACzB,CAAC,CAAC,CACN,CACAhB,SAAS,CAACW,QAAQ,CAAE,EAAE,CAAC,CAEvB,GAAMS,SAAQ,CAAGf,KAAK,CAACgB,GAAG,CAAC,SAAAC,IAAI,qBAAI,KAAC,IAAI,EAAC,KAAK,CAAEA,IAAI,CAACC,KAAM,CAAC,OAAO,CAAED,IAAI,CAACE,OAAQ,CAAC,EAAE,CAAEF,IAAI,CAACG,oBAAqB,CAAC,EAAE,CAAEH,IAAI,CAACI,EAAG,CAAC,KAAK,CAAEJ,IAAI,CAACK,KAAM,CAAC,QAAQ,CAAEL,IAAI,CAACM,MAAO,CAAC,MAAM,CAAErB,IAAK,CAAC,IAAI,CAAEe,IAAI,CAACO,IAAK,EAAG,GAAC,CAC3M,GAAIC,OAAM,CAAG,EAAE,CACf,GAAIC,OAAM,CAAG,IAAI,CACjB,GAAI1B,KAAK,CAAC2B,MAAM,CAAG,CAAC,EAAIzB,IAAI,CAAE,CAC1BuB,MAAM,CAAG,IAAI,CACjB,CAAC,IACI,IAAGzB,KAAK,CAAC2B,MAAM,EAAI,CAAC,EAAIzB,IAAI,CAAC,CAC9BuB,MAAM,CAAG,KAAK,CACdC,MAAM,CAAG,KAAK,CAClB,CAEA,mBACI,aAAK,SAAS,CAAC,SAAS,WACnBxB,IAAI,CAAG,GAAG,cAAG,8CAA8B,CAC3CwB,MAAM,CAAG,EAAE,CAAG,oBAAoB,CAClCD,MAAM,CAAGV,QAAQ,CAAI,EAAE,GACtB,CAEd"},"metadata":{},"sourceType":"module","externalDependencies":[]}