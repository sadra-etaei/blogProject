{"ast":null,"code":"import _slicedToArray from\"F:/projects/Projects/project/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import Post from\"./post\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";export default function Drafts(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),posts=_useState2[0],setPosts=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),drafts=_useState4[0],setDrafts=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),author=_useState6[0],setAuthor=_useState6[1];function getPosts(){axios({method:\"GET\",url:\"/api/posts/\"}).then(function(response){var newposts=response.data;setPosts(newposts);console.log(newposts);});}function getAuthor(pk){axios({method:\"GET\",url:\"/api/users/\".concat(pk)}).then(function(response){setAuthor(response.data.username);});return author;}useEffect(getPosts,[]);var x=posts.filter(function(post){return post.publicationDate===null;});var elements=x.map(function(post){return/*#__PURE__*/_jsx(Post,{pb:post.publicationDate,pk:post.pk,title:post.title,authorpk:post.author,author:getAuthor(post.author),text:post.text});});return/*#__PURE__*/_jsx(\"div\",{className:\"content\",children:elements});}","map":{"version":3,"names":["useEffect","useState","Post","axios","Drafts","posts","setPosts","drafts","setDrafts","author","setAuthor","getPosts","method","url","then","response","newposts","data","console","log","getAuthor","pk","concat","username","x","filter","post","publicationDate","elements","map","title","text"],"sources":["F:/projects/Projects/project/frontend/src/pages/drafts.js"],"sourcesContent":["import { useEffect, useState } from \"react\"\r\nimport Post from \"./post\"\r\nimport axios from \"axios\"\r\nexport default function Drafts() {\r\n    const [posts, setPosts] = useState([])\r\n    const [drafts, setDrafts] = useState([])\r\n    const [author, setAuthor] = useState(\"\")\r\n\r\n\r\n    function getPosts() {\r\n        axios({\r\n            method: \"GET\",\r\n            url: \"/api/posts/\"\r\n        }).then((response) => {\r\n            const newposts = response.data\r\n            setPosts(newposts)\r\n            console.log(newposts)\r\n        })\r\n    }\r\n    function getAuthor(pk) {\r\n        axios({\r\n            method: \"GET\",\r\n            url: \"/api/users/\".concat(pk)\r\n        }).then((response) => {\r\n            setAuthor(response.data.username)\r\n        })\r\n        return author\r\n    }\r\n    useEffect(getPosts, [])\r\n\r\n    const x = posts.filter(post => post.publicationDate === null)\r\n    const elements = x.map(post => <Post pb={post.publicationDate} pk={post.pk} title={post.title} authorpk={post.author} author={getAuthor(post.author)} text={post.text} />)\r\n\r\n\r\n    return (\r\n        <div className=\"content\">\r\n            {elements}\r\n        </div>\r\n    )\r\n}"],"mappings":"2HAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,MAAOC,KAAI,KAAM,QAAQ,CACzB,MAAOC,MAAK,KAAM,OAAO,4CACzB,cAAe,SAASC,OAAM,EAAG,CAC7B,cAA0BH,QAAQ,CAAC,EAAE,CAAC,wCAA/BI,KAAK,eAAEC,QAAQ,eACtB,eAA4BL,QAAQ,CAAC,EAAE,CAAC,yCAAjCM,MAAM,eAAEC,SAAS,eACxB,eAA4BP,QAAQ,CAAC,EAAE,CAAC,yCAAjCQ,MAAM,eAAEC,SAAS,eAGxB,QAASC,SAAQ,EAAG,CAChBR,KAAK,CAAC,CACFS,MAAM,CAAE,KAAK,CACbC,GAAG,CAAE,aACT,CAAC,CAAC,CAACC,IAAI,CAAC,SAACC,QAAQ,CAAK,CAClB,GAAMC,SAAQ,CAAGD,QAAQ,CAACE,IAAI,CAC9BX,QAAQ,CAACU,QAAQ,CAAC,CAClBE,OAAO,CAACC,GAAG,CAACH,QAAQ,CAAC,CACzB,CAAC,CAAC,CACN,CACA,QAASI,UAAS,CAACC,EAAE,CAAE,CACnBlB,KAAK,CAAC,CACFS,MAAM,CAAE,KAAK,CACbC,GAAG,CAAE,aAAa,CAACS,MAAM,CAACD,EAAE,CAChC,CAAC,CAAC,CAACP,IAAI,CAAC,SAACC,QAAQ,CAAK,CAClBL,SAAS,CAACK,QAAQ,CAACE,IAAI,CAACM,QAAQ,CAAC,CACrC,CAAC,CAAC,CACF,MAAOd,OAAM,CACjB,CACAT,SAAS,CAACW,QAAQ,CAAE,EAAE,CAAC,CAEvB,GAAMa,EAAC,CAAGnB,KAAK,CAACoB,MAAM,CAAC,SAAAC,IAAI,QAAIA,KAAI,CAACC,eAAe,GAAK,IAAI,GAAC,CAC7D,GAAMC,SAAQ,CAAGJ,CAAC,CAACK,GAAG,CAAC,SAAAH,IAAI,qBAAI,KAAC,IAAI,EAAC,EAAE,CAAEA,IAAI,CAACC,eAAgB,CAAC,EAAE,CAAED,IAAI,CAACL,EAAG,CAAC,KAAK,CAAEK,IAAI,CAACI,KAAM,CAAC,QAAQ,CAAEJ,IAAI,CAACjB,MAAO,CAAC,MAAM,CAAEW,SAAS,CAACM,IAAI,CAACjB,MAAM,CAAE,CAAC,IAAI,CAAEiB,IAAI,CAACK,IAAK,EAAG,GAAC,CAG1K,mBACI,YAAK,SAAS,CAAC,SAAS,UACnBH,QAAQ,EACP,CAEd"},"metadata":{},"sourceType":"module","externalDependencies":[]}