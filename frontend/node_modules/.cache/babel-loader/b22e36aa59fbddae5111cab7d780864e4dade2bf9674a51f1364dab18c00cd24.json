{"ast":null,"code":"import _toConsumableArray from\"F:/projects/Projects/project/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"F:/projects/Projects/project/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"F:/projects/Projects/project/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function SignUp(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),form=_useState2[0],setForm=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var navigate=useNavigate();function handleChange(event){validateForm();if(event.target.name===\"username\"){setForm(function(prevForm){return _objectSpread(_objectSpread({},prevForm),{},{username:event.target.value});});}if(event.target.name===\"email\"){setForm(function(prevForm){return _objectSpread(_objectSpread({},prevForm),{},{email:event.target.value});});}if(event.target.name===\"pass\"){setForm(function(prevForm){return _objectSpread(_objectSpread({},prevForm),{},{password:event.target.value});});}if(event.target.name===\"pass2\"){setForm(function(prevForm){return _objectSpread(_objectSpread({},prevForm),{},{\"password_confirmation\":event.target.value});});}}function postForm(event){event.preventDefault();console.log(JSON.stringify(form));console.log(error);if(error==\"\"){axios.post(\"/api/users/signup\",form,{\"headers\":{'Content-Type':'application/json'}}).then(function(response){return console.log(response);}).then(navigate('/login'));}}function validateForm(){if(form.username==null){setError([\"please fill out the blanks\"]);}else if(form.email==null){setError([\"please fill out the blanks\"]);}else if(form.password==null){setError([\"please fill out the blanks\"]);}else if(form.password_confirmation==null){setError([\"please fill out the blanks\"]);}else if(form.username.length<4&form.username.length>0){setError(function(prev){if(error.includes(\"usernames should be more than 4 characters\")===false){return[].concat(_toConsumableArray(prev),[\"usernames should be more than 4 characters\"]);}else{return _toConsumableArray(prev);}});// setError(\"username should be more then 4 characters\")\n}else if(form.email.includes(\"@\")===false||form.email.includes(\".\")===false){setError(function(prev){if(error.includes(\"the email is not correct\")===false){return[].concat(_toConsumableArray(prev),[\"the email is not correct\"]);}else{return _toConsumableArray(prev);}});// setError(\"enter a correct email\")\n}else if(form.password_confirmation!=form.password){setError(function(prev){if(error.includes(\"the passwords do not match\")===false){return[].concat(_toConsumableArray(prev),[\"the passwords do not match\"]);}else{return _toConsumableArray(prev);}});// setError(\"the passwords do not match\")\n}else{setError(\"\");}}var error_messages=\"\";if(error!=\"\"){error_messages=error.map(function(e){return/*#__PURE__*/_jsx(\"p\",{id:\"error_message\",children:e});});}return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{id:\"signup_form\",className:\"registration_formbox\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Signup\"}),/*#__PURE__*/_jsxs(\"form\",{method:\"post\",onSubmit:postForm,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"registration_field\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"username\",children:\"Username : \"}),/*#__PURE__*/_jsx(\"input\",{className:\"forminput\",type:\"text\",name:\"username\",id:\"userinput\",onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"registration_field\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"email\",children:\"Email : \"}),/*#__PURE__*/_jsx(\"input\",{className:\"forminput\",name:\"email\",type:\"email\",id:\"emailinput\",onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"registration_field\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"pass\",children:\"Password :\"}),/*#__PURE__*/_jsx(\"input\",{className:\"forminput\",name:\"pass\",type:\"password\",onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"registration_field\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"pass2\",children:\"Confirm your password : \"}),/*#__PURE__*/_jsx(\"input\",{className:\"forminput\",name:\"pass2\",type:\"password\",onChange:handleChange})]}),/*#__PURE__*/_jsx(\"div\",{className:\"errors_parent\",children:error_messages}),/*#__PURE__*/_jsx(\"button\",{id:\"signupbtn\",className:\"button\",type:\"submit\",children:\"Signup\"})]})]})});}","map":{"version":3,"names":["axios","useState","useNavigate","SignUp","form","setForm","error","setError","navigate","handleChange","event","validateForm","target","name","prevForm","username","value","email","password","postForm","preventDefault","console","log","JSON","stringify","post","then","response","password_confirmation","length","prev","includes","error_messages","map","e"],"sources":["F:/projects/Projects/project/frontend/src/pages/signup.js"],"sourcesContent":["import axios from \"axios\"\r\nimport { useState } from \"react\"\r\nimport { useNavigate } from \"react-router-dom\"\r\nexport default function SignUp() {\r\n    const [form, setForm] = useState({})\r\n    const [error, setError] = useState([])\r\n    const navigate = useNavigate()\r\n    function handleChange(event) {\r\n        validateForm()\r\n        if (event.target.name === \"username\") {\r\n            setForm(prevForm => { return { ...prevForm, username: event.target.value } })\r\n        }\r\n        if (event.target.name === \"email\") {\r\n            setForm(prevForm => { return { ...prevForm, email: event.target.value } })\r\n        }\r\n        if (event.target.name === \"pass\") {\r\n            setForm(prevForm => { return { ...prevForm, password: event.target.value } })\r\n        }\r\n        if (event.target.name === \"pass2\") {\r\n            setForm(prevForm => { return { ...prevForm, \"password_confirmation\": event.target.value } })\r\n        }\r\n    }\r\n    function postForm(event) {\r\n        event.preventDefault()\r\n        console.log(JSON.stringify(form))\r\n        console.log(error)\r\n\r\n        if (error == \"\") {\r\n            axios.post(\"/api/users/signup\", form, {\r\n                \"headers\": {\r\n                    'Content-Type': 'application/json',\r\n                }\r\n            }).then(response => console.log(response)).then(navigate('/login'))\r\n        }\r\n\r\n\r\n    }\r\n    function validateForm() {\r\n\r\n        if (form.username == null) {\r\n            setError([\"please fill out the blanks\"])\r\n        }\r\n        else if (form.email == null) {\r\n            setError([\"please fill out the blanks\"])\r\n\r\n        }\r\n        else if (form.password == null) {\r\n            setError([\"please fill out the blanks\"])\r\n\r\n        }\r\n        else if (form.password_confirmation == null) {\r\n            setError([\"please fill out the blanks\"])\r\n        }\r\n        else if (form.username.length < 4 & form.username.length > 0) {\r\n            setError(prev => {\r\n                if (error.includes(\"usernames should be more than 4 characters\") === false) {\r\n                    return [...prev, \"usernames should be more than 4 characters\"]\r\n                }\r\n                else {\r\n                    return [...prev]\r\n                }\r\n            })\r\n            // setError(\"username should be more then 4 characters\")\r\n\r\n        }\r\n        else if ((form.email.includes(\"@\") === false) || (form.email.includes(\".\") === false)) {\r\n            setError(prev => {\r\n                if (error.includes(\"the email is not correct\") === false) {\r\n                    return [...prev, \"the email is not correct\"]\r\n                }\r\n                else {\r\n                    return [...prev]\r\n                }\r\n            })\r\n\r\n            // setError(\"enter a correct email\")\r\n        }\r\n        else if (form.password_confirmation != form.password) {\r\n            setError(prev => {\r\n                if (error.includes(\"the passwords do not match\") === false) {\r\n                    return [...prev, \"the passwords do not match\"]\r\n                }\r\n                else {\r\n                    return [...prev]\r\n                }\r\n            })\r\n\r\n            // setError(\"the passwords do not match\")\r\n        }\r\n        else {\r\n            setError(\"\")\r\n        }\r\n    }\r\n\r\n    var error_messages = \"\"\r\n    if (error != \"\") {\r\n        error_messages = error.map(e => <p id=\"error_message\">{e}</p>)\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <div id=\"signup_form\" className=\"registration_formbox\">\r\n                <h1>Signup</h1>\r\n                <form method=\"post\" onSubmit={postForm}>\r\n\r\n                    <div className=\"registration_field\">\r\n                        <label for=\"username\" >Username : </label>\r\n                        <input className=\"forminput\" type={\"text\"} name=\"username\" id={\"userinput\"} onChange={handleChange} />\r\n                    </div>\r\n\r\n                    <div className=\"registration_field\">\r\n                        <label for=\"email\" >Email : </label>\r\n                        <input className=\"forminput\" name=\"email\" type={\"email\"} id={\"emailinput\"} onChange={handleChange} />\r\n                    </div>\r\n\r\n                    <div className=\"registration_field\">\r\n                        <label for=\"pass\" >Password :</label>\r\n                        <input className=\"forminput\" name=\"pass\" type={\"password\"} onChange={handleChange} />\r\n                    </div>\r\n\r\n                    <div className=\"registration_field\">\r\n                        <label for=\"pass2\" >Confirm your password : </label>\r\n                        <input className=\"forminput\" name=\"pass2\" type={\"password\"} onChange={handleChange} />\r\n                    </div>\r\n\r\n                    <div className=\"errors_parent\">\r\n                        {error_messages}\r\n                    </div>\r\n\r\n                    <button id=\"signupbtn\" className=\"button\" type=\"submit\"  >Signup</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}