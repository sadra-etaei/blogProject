{"ast":null,"code":"import _objectSpread from\"F:/projects/Projects/project/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"F:/projects/Projects/project/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import axios from\"axios\";import{useNavigate}from\"react-router-dom\";import{useLocation}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Update(){var nav=useNavigate();var loc=useLocation(\"\");// const user = localStorage.getItem(\"username\")\n// const userid = localStorage.getItem(\"id\")\nvar _useState=useState({text:\"\"}),_useState2=_slicedToArray(_useState,2),form=_useState2[0],setForm=_useState2[1];function handleChange(event){setForm(function(prevForm){return _objectSpread(_objectSpread({},prevForm),{},{pk:loc.state.pk});});if(event.target.name===\"title\"){setForm(function(prevForm){return _objectSpread(_objectSpread({},prevForm),{},{title:event.target.value});});}if(event.target.name===\"textarea\"){setForm(function(prevForm){return _objectSpread(_objectSpread({},prevForm),{},{text:event.target.value});});}}function postForm(event){event.preventDefault();axios.post(\"/api/posts/\".concat(loc.state.pk,\"/update/\"),JSON.stringify(form),{\"headers\":{'Content-Type':'application/json'}}).then(function(response){return nav(\"/posts/\".concat(response.data.pk),{state:response.data});});}return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{onSubmit:postForm,className:\"postform-box\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"postform\",method:\"POST\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{for:\"title\",children:\"Title : \"}),/*#__PURE__*/_jsx(\"input\",{name:\"title\",type:\"title\",id:\"titleinput\",onChange:handleChange})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"textarea\",{name:\"textarea\",id:\"textarea\",onChange:handleChange})}),/*#__PURE__*/_jsx(\"input\",{id:\"postsubmit\",className:\"button\",type:\"submit\",value:\"Submit\"})]})})});}","map":{"version":3,"names":["useState","axios","useNavigate","useLocation","Update","nav","loc","text","form","setForm","handleChange","event","prevForm","pk","state","target","name","title","value","postForm","preventDefault","post","JSON","stringify","then","response","data"],"sources":["F:/projects/Projects/project/frontend/src/pages/update.js"],"sourcesContent":["import { useState } from \"react\"\r\nimport axios from \"axios\"\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nimport { useLocation } from \"react-router-dom\";\r\nexport default function Update() {\r\n    const nav = useNavigate()\r\n    const loc = useLocation(\"\")\r\n    // const user = localStorage.getItem(\"username\")\r\n    // const userid = localStorage.getItem(\"id\")\r\n    const [form, setForm] = useState({ text: \"\" })\r\n    function handleChange(event) {\r\n        setForm(prevForm => { return { ...prevForm, pk: loc.state.pk } })\r\n        if (event.target.name === \"title\") {\r\n            setForm(prevForm => { return { ...prevForm, title: event.target.value } })\r\n        }\r\n        if (event.target.name === \"textarea\") {\r\n            setForm(prevForm => { return { ...prevForm, text: event.target.value } })\r\n        }\r\n    }\r\n    function postForm(event) {\r\n        event.preventDefault()\r\n        axios.post(`/api/posts/${loc.state.pk}/update/`, JSON.stringify(form), {\r\n            \"headers\": {\r\n                'Content-Type': 'application/json',\r\n            }\r\n        })\r\n            .then(response => nav(`/posts/${response.data.pk}`, { state: response.data }))\r\n    }\r\n    return (\r\n        <div>\r\n            <div onSubmit={postForm} className=\"postform-box\">\r\n                <form className=\"postform\" method=\"POST\">\r\n                    <div>\r\n                        <label for=\"title\" >Title : </label>\r\n                        <input name=\"title\" type={\"title\"} id={\"titleinput\"} onChange={handleChange} />\r\n                    </div>\r\n\r\n                    <div>\r\n                        <textarea name=\"textarea\" id=\"textarea\" onChange={handleChange} />\r\n                    </div>\r\n                    <input id=\"postsubmit\" className=\"button\" type={\"submit\"} value=\"Submit\" />\r\n                </form>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}"],"mappings":"qPAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC,MAAOC,MAAK,KAAM,OAAO,CACzB,OAASC,WAAW,KAAQ,kBAAkB,CAE9C,OAASC,WAAW,KAAQ,kBAAkB,CAAC,wFAC/C,cAAe,SAASC,OAAM,EAAG,CAC7B,GAAMC,IAAG,CAAGH,WAAW,EAAE,CACzB,GAAMI,IAAG,CAAGH,WAAW,CAAC,EAAE,CAAC,CAC3B;AACA;AACA,cAAwBH,QAAQ,CAAC,CAAEO,IAAI,CAAE,EAAG,CAAC,CAAC,wCAAvCC,IAAI,eAAEC,OAAO,eACpB,QAASC,aAAY,CAACC,KAAK,CAAE,CACzBF,OAAO,CAAC,SAAAG,QAAQ,CAAI,CAAE,sCAAYA,QAAQ,MAAEC,EAAE,CAAEP,GAAG,CAACQ,KAAK,CAACD,EAAE,GAAG,CAAC,CAAC,CACjE,GAAIF,KAAK,CAACI,MAAM,CAACC,IAAI,GAAK,OAAO,CAAE,CAC/BP,OAAO,CAAC,SAAAG,QAAQ,CAAI,CAAE,sCAAYA,QAAQ,MAAEK,KAAK,CAAEN,KAAK,CAACI,MAAM,CAACG,KAAK,GAAG,CAAC,CAAC,CAC9E,CACA,GAAIP,KAAK,CAACI,MAAM,CAACC,IAAI,GAAK,UAAU,CAAE,CAClCP,OAAO,CAAC,SAAAG,QAAQ,CAAI,CAAE,sCAAYA,QAAQ,MAAEL,IAAI,CAAEI,KAAK,CAACI,MAAM,CAACG,KAAK,GAAG,CAAC,CAAC,CAC7E,CACJ,CACA,QAASC,SAAQ,CAACR,KAAK,CAAE,CACrBA,KAAK,CAACS,cAAc,EAAE,CACtBnB,KAAK,CAACoB,IAAI,sBAAef,GAAG,CAACQ,KAAK,CAACD,EAAE,aAAYS,IAAI,CAACC,SAAS,CAACf,IAAI,CAAC,CAAE,CACnE,SAAS,CAAE,CACP,cAAc,CAAE,kBACpB,CACJ,CAAC,CAAC,CACGgB,IAAI,CAAC,SAAAC,QAAQ,QAAIpB,IAAG,kBAAWoB,QAAQ,CAACC,IAAI,CAACb,EAAE,EAAI,CAAEC,KAAK,CAAEW,QAAQ,CAACC,IAAK,CAAC,CAAC,GAAC,CACtF,CACA,mBACI,kCACI,YAAK,QAAQ,CAAEP,QAAS,CAAC,SAAS,CAAC,cAAc,uBAC7C,cAAM,SAAS,CAAC,UAAU,CAAC,MAAM,CAAC,MAAM,wBACpC,oCACI,cAAO,GAAG,CAAC,OAAO,sBAAkB,cACpC,cAAO,IAAI,CAAC,OAAO,CAAC,IAAI,CAAE,OAAQ,CAAC,EAAE,CAAE,YAAa,CAAC,QAAQ,CAAET,YAAa,EAAG,GAC7E,cAEN,kCACI,iBAAU,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,UAAU,CAAC,QAAQ,CAAEA,YAAa,EAAG,EAChE,cACN,cAAO,EAAE,CAAC,YAAY,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAE,QAAS,CAAC,KAAK,CAAC,QAAQ,EAAG,GACxE,EACL,EAEJ,CAEd"},"metadata":{},"sourceType":"module","externalDependencies":[]}