{"ast":null,"code":"import _slicedToArray from\"F:/projects/Projects/project/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import{useState,useEffect}from\"react\";import Post from\"./post\";import{jsx as _jsx}from\"react/jsx-runtime\";export default function Home(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),posts=_useState2[0],setPosts=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),users=_useState4[0],setUsers=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),author=_useState6[0],setAuthor=_useState6[1];function getPosts(){axios({method:\"GET\",url:\"/api/posts/\"}).then(function(response){var newposts=response.data;setPosts(newposts);console.log(newposts);});}function getUsers(){axios({method:\"GET\",url:\"/api/users/\"}).then(function(response){var newusers=response.data;setUsers(newusers);console.log(newusers);});}function getAuthor(pk){axios({method:\"GET\",url:\"/api/users/\".concat(pk)}).then(function(response){setAuthor(response.data.username);});return author;}useEffect(getPosts,[]);useEffect(getUsers,[]);var x=posts.filter(function(post){return post.publicationDate!=null;});var elements=x.map(function(post){return/*#__PURE__*/_jsx(Post,{pb:post.publicationDate,pk:post.pk,title:post.title,authorpk:post.author,author:getAuthor(post.author),text:post.text});});return/*#__PURE__*/_jsx(\"div\",{className:\"content\",children:elements});}","map":{"version":3,"names":["axios","useState","useEffect","Post","Home","posts","setPosts","users","setUsers","author","setAuthor","getPosts","method","url","then","response","newposts","data","console","log","getUsers","newusers","getAuthor","pk","concat","username","x","filter","post","publicationDate","elements","map","title","text"],"sources":["F:/projects/Projects/project/frontend/src/pages/home.js"],"sourcesContent":["import axios from \"axios\"\r\nimport { useState, useEffect } from \"react\"\r\nimport Post from \"./post\"\r\n\r\nexport default function Home() {\r\n    const [posts, setPosts] = useState([])\r\n    const [users,setUsers] = useState([])\r\n    const [author,setAuthor] = useState(\"\") \r\n    function getPosts() {\r\n        axios({\r\n            method: \"GET\",\r\n            url: \"/api/posts/\"\r\n        }).then((response) => {\r\n            const newposts = response.data\r\n            setPosts(newposts)\r\n            console.log(newposts)\r\n        })\r\n    }\r\n    function getUsers() {\r\n        axios({\r\n            method: \"GET\",\r\n            url: \"/api/users/\"\r\n        }).then((response) => {\r\n            const newusers = response.data\r\n            setUsers(newusers)\r\n            console.log(newusers)\r\n        })\r\n    }\r\n    function getAuthor(pk) {\r\n        axios({\r\n            method: \"GET\",\r\n            url: \"/api/users/\".concat(pk)\r\n        }).then((response) => {\r\n            setAuthor(response.data.username)\r\n        })\r\n        return author\r\n    }\r\n    useEffect(getPosts, [])\r\n    useEffect(getUsers,[])\r\n\r\n    const x = posts.filter(post => post.publicationDate != null)\r\n    const elements = x.map(post => <Post pb={post.publicationDate} pk={post.pk} title={post.title} authorpk={post.author} author={getAuthor(post.author)} text={post.text} />)\r\n\r\n    return (\r\n        <div className=\"content\">\r\n            {elements}\r\n        </div>\r\n    )\r\n}"],"mappings":"2HAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,MAAOC,KAAI,KAAM,QAAQ,4CAEzB,cAAe,SAASC,KAAI,EAAG,CAC3B,cAA0BH,QAAQ,CAAC,EAAE,CAAC,wCAA/BI,KAAK,eAAEC,QAAQ,eACtB,eAAyBL,QAAQ,CAAC,EAAE,CAAC,yCAA9BM,KAAK,eAACC,QAAQ,eACrB,eAA2BP,QAAQ,CAAC,EAAE,CAAC,yCAAhCQ,MAAM,eAACC,SAAS,eACvB,QAASC,SAAQ,EAAG,CAChBX,KAAK,CAAC,CACFY,MAAM,CAAE,KAAK,CACbC,GAAG,CAAE,aACT,CAAC,CAAC,CAACC,IAAI,CAAC,SAACC,QAAQ,CAAK,CAClB,GAAMC,SAAQ,CAAGD,QAAQ,CAACE,IAAI,CAC9BX,QAAQ,CAACU,QAAQ,CAAC,CAClBE,OAAO,CAACC,GAAG,CAACH,QAAQ,CAAC,CACzB,CAAC,CAAC,CACN,CACA,QAASI,SAAQ,EAAG,CAChBpB,KAAK,CAAC,CACFY,MAAM,CAAE,KAAK,CACbC,GAAG,CAAE,aACT,CAAC,CAAC,CAACC,IAAI,CAAC,SAACC,QAAQ,CAAK,CAClB,GAAMM,SAAQ,CAAGN,QAAQ,CAACE,IAAI,CAC9BT,QAAQ,CAACa,QAAQ,CAAC,CAClBH,OAAO,CAACC,GAAG,CAACE,QAAQ,CAAC,CACzB,CAAC,CAAC,CACN,CACA,QAASC,UAAS,CAACC,EAAE,CAAE,CACnBvB,KAAK,CAAC,CACFY,MAAM,CAAE,KAAK,CACbC,GAAG,CAAE,aAAa,CAACW,MAAM,CAACD,EAAE,CAChC,CAAC,CAAC,CAACT,IAAI,CAAC,SAACC,QAAQ,CAAK,CAClBL,SAAS,CAACK,QAAQ,CAACE,IAAI,CAACQ,QAAQ,CAAC,CACrC,CAAC,CAAC,CACF,MAAOhB,OAAM,CACjB,CACAP,SAAS,CAACS,QAAQ,CAAE,EAAE,CAAC,CACvBT,SAAS,CAACkB,QAAQ,CAAC,EAAE,CAAC,CAEtB,GAAMM,EAAC,CAAGrB,KAAK,CAACsB,MAAM,CAAC,SAAAC,IAAI,QAAIA,KAAI,CAACC,eAAe,EAAI,IAAI,GAAC,CAC5D,GAAMC,SAAQ,CAAGJ,CAAC,CAACK,GAAG,CAAC,SAAAH,IAAI,qBAAI,KAAC,IAAI,EAAC,EAAE,CAAEA,IAAI,CAACC,eAAgB,CAAC,EAAE,CAAED,IAAI,CAACL,EAAG,CAAC,KAAK,CAAEK,IAAI,CAACI,KAAM,CAAC,QAAQ,CAAEJ,IAAI,CAACnB,MAAO,CAAC,MAAM,CAAEa,SAAS,CAACM,IAAI,CAACnB,MAAM,CAAE,CAAC,IAAI,CAAEmB,IAAI,CAACK,IAAK,EAAG,GAAC,CAE1K,mBACI,YAAK,SAAS,CAAC,SAAS,UACnBH,QAAQ,EACP,CAEd"},"metadata":{},"sourceType":"module","externalDependencies":[]}