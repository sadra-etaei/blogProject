{"ast":null,"code":"import _slicedToArray from\"F:/projects/Projects/project/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import{useState,useEffect}from\"react\";import Post from\"./post\";import{jsx as _jsx}from\"react/jsx-runtime\";export default function Home(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),posts=_useState2[0],setPosts=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),users=_useState4[0],setUsers=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),author=_useState6[0],setAuthor=_useState6[1];function getPosts(){axios({method:\"GET\",url:\"/api/posts/?format=json\"}).then(function(response){var newposts=response.data;setPosts(newposts);console.log(newposts);});}function getUsers(){axios({method:\"GET\",url:\"/api/users/?format=json\"}).then(function(response){var newusers=response.data;setUsers(newusers);console.log(newusers);});}function getAuthor(url){axios({method:\"GET\",url:url.split(\"8000\")[1]}).then(function(response){setAuthor(response.data.username);});return author;}useEffect(getPosts,[]);useEffect(getUsers,[]);var elements=posts.map(function(post){return/*#__PURE__*/_jsx(Post,{title:post.title,author:getAuthor(post.author),text:post.text});});return/*#__PURE__*/_jsx(\"div\",{className:\"content\",children:elements});}","map":{"version":3,"names":["axios","useState","useEffect","Post","Home","posts","setPosts","users","setUsers","author","setAuthor","getPosts","method","url","then","response","newposts","data","console","log","getUsers","newusers","getAuthor","split","username","elements","map","post","title","text"],"sources":["F:/projects/Projects/project/frontend/src/pages/home.js"],"sourcesContent":["import axios from \"axios\"\r\nimport { useState, useEffect } from \"react\"\r\nimport Post from \"./post\"\r\n\r\nexport default function Home() {\r\n    const [posts, setPosts] = useState([])\r\n    const [users,setUsers] = useState([])\r\n    const [author,setAuthor] = useState(\"\") \r\n    function getPosts() {\r\n        axios({\r\n            method: \"GET\",\r\n            url: \"/api/posts/?format=json\"\r\n        }).then((response) => {\r\n            const newposts = response.data\r\n            setPosts(newposts)\r\n            console.log(newposts)\r\n        })\r\n    }\r\n    function getUsers() {\r\n        axios({\r\n            method: \"GET\",\r\n            url: \"/api/users/?format=json\"\r\n        }).then((response) => {\r\n            const newusers = response.data\r\n            setUsers(newusers)\r\n            console.log(newusers)\r\n        })\r\n    }\r\n    function getAuthor(url) {\r\n        axios({\r\n            method: \"GET\",\r\n            url: url.split(\"8000\")[1]\r\n        }).then((response) => {\r\n            setAuthor(response.data.username)\r\n        })\r\n        return author\r\n    }\r\n    useEffect(getPosts, [])\r\n    useEffect(getUsers,[])\r\n\r\n    const elements = posts.map(post => <Post title={post.title} author={getAuthor(post.author)} text={post.text} />)\r\n\r\n    return (\r\n        <div className=\"content\">\r\n            {elements}\r\n        </div>\r\n    )\r\n}"],"mappings":"2HAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,MAAOC,KAAI,KAAM,QAAQ,4CAEzB,cAAe,SAASC,KAAI,EAAG,CAC3B,cAA0BH,QAAQ,CAAC,EAAE,CAAC,wCAA/BI,KAAK,eAAEC,QAAQ,eACtB,eAAyBL,QAAQ,CAAC,EAAE,CAAC,yCAA9BM,KAAK,eAACC,QAAQ,eACrB,eAA2BP,QAAQ,CAAC,EAAE,CAAC,yCAAhCQ,MAAM,eAACC,SAAS,eACvB,QAASC,SAAQ,EAAG,CAChBX,KAAK,CAAC,CACFY,MAAM,CAAE,KAAK,CACbC,GAAG,CAAE,yBACT,CAAC,CAAC,CAACC,IAAI,CAAC,SAACC,QAAQ,CAAK,CAClB,GAAMC,SAAQ,CAAGD,QAAQ,CAACE,IAAI,CAC9BX,QAAQ,CAACU,QAAQ,CAAC,CAClBE,OAAO,CAACC,GAAG,CAACH,QAAQ,CAAC,CACzB,CAAC,CAAC,CACN,CACA,QAASI,SAAQ,EAAG,CAChBpB,KAAK,CAAC,CACFY,MAAM,CAAE,KAAK,CACbC,GAAG,CAAE,yBACT,CAAC,CAAC,CAACC,IAAI,CAAC,SAACC,QAAQ,CAAK,CAClB,GAAMM,SAAQ,CAAGN,QAAQ,CAACE,IAAI,CAC9BT,QAAQ,CAACa,QAAQ,CAAC,CAClBH,OAAO,CAACC,GAAG,CAACE,QAAQ,CAAC,CACzB,CAAC,CAAC,CACN,CACA,QAASC,UAAS,CAACT,GAAG,CAAE,CACpBb,KAAK,CAAC,CACFY,MAAM,CAAE,KAAK,CACbC,GAAG,CAAEA,GAAG,CAACU,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAC5B,CAAC,CAAC,CAACT,IAAI,CAAC,SAACC,QAAQ,CAAK,CAClBL,SAAS,CAACK,QAAQ,CAACE,IAAI,CAACO,QAAQ,CAAC,CACrC,CAAC,CAAC,CACF,MAAOf,OAAM,CACjB,CACAP,SAAS,CAACS,QAAQ,CAAE,EAAE,CAAC,CACvBT,SAAS,CAACkB,QAAQ,CAAC,EAAE,CAAC,CAEtB,GAAMK,SAAQ,CAAGpB,KAAK,CAACqB,GAAG,CAAC,SAAAC,IAAI,qBAAI,KAAC,IAAI,EAAC,KAAK,CAAEA,IAAI,CAACC,KAAM,CAAC,MAAM,CAAEN,SAAS,CAACK,IAAI,CAAClB,MAAM,CAAE,CAAC,IAAI,CAAEkB,IAAI,CAACE,IAAK,EAAG,GAAC,CAEhH,mBACI,YAAK,SAAS,CAAC,SAAS,UACnBJ,QAAQ,EACP,CAEd"},"metadata":{},"sourceType":"module","externalDependencies":[]}