{"ast":null,"code":"import _slicedToArray from\"F:/projects/Projects/project/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import{useState,useEffect}from\"react\";import Post from\"./post\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Home(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),posts=_useState2[0],setPosts=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),trends=_useState4[0],setTrends=_useState4[1];var userid=localStorage.getItem(\"id\");function getPosts(){axios({method:\"GET\",url:\"/api/feed/\".concat(userid,\"/\")}).then(function(response){var newposts=response.data;setPosts(newposts);});axios.get('/api/posts/trending/').then(function(response){return setTrends(response.data);});}useEffect(getPosts,[userid]);var elements=posts.map(function(post){return/*#__PURE__*/_jsx(Post,{likes:post.likes,profile:post.profile,publicationDate:post.publicationDate,pb:post.publicationShortDate,pk:post.pk,title:post.title,authorpk:post.author,text:post.text});});var trendposts=trends.map(function(post){return/*#__PURE__*/_jsx(Post,{notshowtext:true,text:post.text,width:\"400px\",height:\"170px\",likes:post.likes,profile:post.profile,publicationDate:post.publicationDate,pb:post.publicationShortDate,pk:post.pk,title:post.title,authorpk:post.author});});console.log(posts);return/*#__PURE__*/_jsxs(\"div\",{className:\"home\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"home_content\",children:elements?elements:\"no posts yet\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"sidebar-intro\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"Trending posts\"})}),trendposts]})]});}","map":{"version":3,"names":["axios","useState","useEffect","Post","Home","posts","setPosts","trends","setTrends","userid","localStorage","getItem","getPosts","method","url","then","response","newposts","data","get","elements","map","post","likes","profile","publicationDate","publicationShortDate","pk","title","author","text","trendposts","console","log"],"sources":["F:/projects/Projects/project/frontend/src/pages/home.js"],"sourcesContent":["import axios from \"axios\"\r\nimport { useState, useEffect } from \"react\"\r\nimport Post from \"./post\"\r\n\r\nexport default function Home() {\r\n    const [posts, setPosts] = useState([])\r\n    const [trends, setTrends] = useState([])\r\n\r\n    const userid = localStorage.getItem(\"id\")\r\n\r\n    function getPosts() {\r\n        axios({\r\n            method: \"GET\",\r\n            url: `/api/feed/${userid}/`\r\n        }).then((response) => {\r\n            const newposts = response.data\r\n            setPosts(newposts)\r\n        })\r\n\r\n        axios.get('/api/posts/trending/').then(response => setTrends(response.data))\r\n    }\r\n    useEffect(getPosts, [userid])\r\n    const elements = posts.map(post => <Post likes={post.likes} profile={post.profile} publicationDate={post.publicationDate} pb={post.publicationShortDate} pk={post.pk} title={post.title} authorpk={post.author} text={post.text} />)\r\n    const trendposts = trends.map(post => <Post notshowtext={true} text={post.text} width={\"400px\"} height={\"170px\"} likes={post.likes} profile={post.profile} publicationDate={post.publicationDate} pb={post.publicationShortDate} pk={post.pk} title={post.title} authorpk={post.author}  />)\r\n    console.log(posts)\r\n    return (\r\n        <div className=\"home\">\r\n            <div className=\"home_content\">\r\n                {elements ? elements : \"no posts yet\"}\r\n            </div>\r\n\r\n\r\n            <div className=\"sidebar\">\r\n                <div className=\"sidebar-intro\"><h3>Trending posts</h3></div>\r\n                {trendposts}\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}"],"mappings":"2HAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,MAAOC,KAAI,KAAM,QAAQ,yFAEzB,cAAe,SAASC,KAAI,EAAG,CAC3B,cAA0BH,QAAQ,CAAC,EAAE,CAAC,wCAA/BI,KAAK,eAAEC,QAAQ,eACtB,eAA4BL,QAAQ,CAAC,EAAE,CAAC,yCAAjCM,MAAM,eAAEC,SAAS,eAExB,GAAMC,OAAM,CAAGC,YAAY,CAACC,OAAO,CAAC,IAAI,CAAC,CAEzC,QAASC,SAAQ,EAAG,CAChBZ,KAAK,CAAC,CACFa,MAAM,CAAE,KAAK,CACbC,GAAG,qBAAeL,MAAM,KAC5B,CAAC,CAAC,CAACM,IAAI,CAAC,SAACC,QAAQ,CAAK,CAClB,GAAMC,SAAQ,CAAGD,QAAQ,CAACE,IAAI,CAC9BZ,QAAQ,CAACW,QAAQ,CAAC,CACtB,CAAC,CAAC,CAEFjB,KAAK,CAACmB,GAAG,CAAC,sBAAsB,CAAC,CAACJ,IAAI,CAAC,SAAAC,QAAQ,QAAIR,UAAS,CAACQ,QAAQ,CAACE,IAAI,CAAC,GAAC,CAChF,CACAhB,SAAS,CAACU,QAAQ,CAAE,CAACH,MAAM,CAAC,CAAC,CAC7B,GAAMW,SAAQ,CAAGf,KAAK,CAACgB,GAAG,CAAC,SAAAC,IAAI,qBAAI,KAAC,IAAI,EAAC,KAAK,CAAEA,IAAI,CAACC,KAAM,CAAC,OAAO,CAAED,IAAI,CAACE,OAAQ,CAAC,eAAe,CAAEF,IAAI,CAACG,eAAgB,CAAC,EAAE,CAAEH,IAAI,CAACI,oBAAqB,CAAC,EAAE,CAAEJ,IAAI,CAACK,EAAG,CAAC,KAAK,CAAEL,IAAI,CAACM,KAAM,CAAC,QAAQ,CAAEN,IAAI,CAACO,MAAO,CAAC,IAAI,CAAEP,IAAI,CAACQ,IAAK,EAAG,GAAC,CACpO,GAAMC,WAAU,CAAGxB,MAAM,CAACc,GAAG,CAAC,SAAAC,IAAI,qBAAI,KAAC,IAAI,EAAC,WAAW,CAAE,IAAK,CAAC,IAAI,CAAEA,IAAI,CAACQ,IAAK,CAAC,KAAK,CAAE,OAAQ,CAAC,MAAM,CAAE,OAAQ,CAAC,KAAK,CAAER,IAAI,CAACC,KAAM,CAAC,OAAO,CAAED,IAAI,CAACE,OAAQ,CAAC,eAAe,CAAEF,IAAI,CAACG,eAAgB,CAAC,EAAE,CAAEH,IAAI,CAACI,oBAAqB,CAAC,EAAE,CAAEJ,IAAI,CAACK,EAAG,CAAC,KAAK,CAAEL,IAAI,CAACM,KAAM,CAAC,QAAQ,CAAEN,IAAI,CAACO,MAAO,EAAI,GAAC,CAC5RG,OAAO,CAACC,GAAG,CAAC5B,KAAK,CAAC,CAClB,mBACI,aAAK,SAAS,CAAC,MAAM,wBACjB,YAAK,SAAS,CAAC,cAAc,UACxBe,QAAQ,CAAGA,QAAQ,CAAG,cAAc,EACnC,cAGN,aAAK,SAAS,CAAC,SAAS,wBACpB,YAAK,SAAS,CAAC,eAAe,uBAAC,sCAAuB,EAAM,CAC3DW,UAAU,GACT,GACJ,CAGd"},"metadata":{},"sourceType":"module","externalDependencies":[]}